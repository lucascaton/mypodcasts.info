//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require jquery.raty.min
//= require_tree .

$(function(){
  setupRaty();
});

function setupRaty(){
  $('#score').raty({
    number: 10,
    path: '../assets/raty',
    scoreName: 'subscription[score]',
    width: 280,
    click: function(score, evt){
      $('#subscription_form').submit();
    },
    score: function(){
      return $(this).attr('data-score');
    },
    starHalf: 'star-half-big.png',
    starOff: 'star-off-big.png',
    starOn: 'star-on-big.png'
  });

  $('.score_read_only').raty({
    number: 10,
    path: '../assets/raty',
    width: 280,
    readOnly: true,
    score: function(){
      return $(this).attr('data-score');
    }
  });

  $('.score_read_only_big').raty({
    number: 10,
    path: '../assets/raty',
    width: 280,
    readOnly: true,
    score: function(){
      return $(this).attr('data-score');
    },
    starHalf: 'star-half-big.png',
    starOff: 'star-off-big.png',
    starOn: 'star-on-big.png'
  });
}
